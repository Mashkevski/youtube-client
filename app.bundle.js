!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);class s{constructor(e){this.url=e}async getData(){let e=null;const t=await fetch(this.url);return t.ok&&(e=await t.json()),e}}class o{constructor(e){this.onSearchChange=e}render(){const e=document.createElement("label");e.className="search-label",e.htmlFor="search-input";const t=document.createElement("input");return t.className="search-input",t.type="text",t.placeholder="Type something...",t.addEventListener("change",this.onSearchChange),e.appendChild(t),e}}class a{constructor(e){this.onButtonMouseDown=e}render(){const e=document.createElement("div");return e.className="buttons-wrapper hidden",e.innerHTML='\n      <button class="btn before-prev-btn hidden" data-action="-2">\n        <span class="tooltip tooltip-hidden"></span>\n      </button>\n      <button class="btn prev-btn hidden" data-action="-1">\n        <span class="tooltip tooltip-hidden"></span>\n      </button>\n      <p class="current-page-num">1</p>\n      <button class="btn next-btn" data-action="1">\n        <span class="tooltip tooltip-hidden"></span>\n      </button>',e.addEventListener("mousedown",this.onButtonMouseDown),e}}n(0),n(1),n(2),n(3);var i=class{constructor(e){this.onSearchChange=e.onSearchChange,this.onButtonMouseDown=e.onButtonMouseDown}render(){const e=document.createElement("div");e.className="wrapper";const t=document.createElement("div");t.className="slides-wrapper";const n=document.createElement("div");n.className="loading-icon";const s=new o(this.onSearchChange).render(),i=new a(this.onButtonMouseDown).render(),r=document.createElement("p");r.textContent="Something went wrong...",r.className="error-message hidden",e.appendChild(s),e.appendChild(t),e.appendChild(i),e.appendChild(n),e.appendChild(r),document.body.appendChild(e)}};class r{constructor(e){this.item=e}getClipMarkup(){const{snippet:e,statistics:t}=this.item,{viewCount:n}=t,{title:s,description:o,channelTitle:a}=e,{publishedAt:i,thumbnails:r}=e,c=i?function(e){let t=e.getDate();t<10&&(t=`0${t}`);let n=e.getMonth()+1;return n<10&&(n=`0${n}`),`${e.getFullYear()}-${n}-${t}`}(new Date(i)):"",{medium:l}=r,{url:d,width:u,height:p}=l,{id:h}=this.item;return`<div class="clip">\n      <div class="clip-top">\n        <h2 class="title"><a href="${`https://www.youtube.com/watch?v=${h}`}">${s}</a></h2>\n        <img class="preview" src="${d}" width="${u}" height="${p}" alt="">\n      </div>\n      <div class="clip-bottom">\n        <p class="author">${a}</p>\n        <p class="upload-date">${c}</p>\n        <p class="view-count">${n}</p>\n        <p class="description">${o}</p>\n      </div>\n    </div>`}}class c{constructor(e){this.videoData=e.videoData,this.onMouselock=e.onMouselock}render(){const e=document.querySelector(".slides-wrapper");e.innerHTML="";const t=document.createElement("ul");t.className="slider smooth";const{items:n}=this.videoData;return t.innerHTML=n.map(e=>`<li>${new r(e).getClipMarkup()}</li>`).join(""),e.appendChild(t),t.addEventListener("mousedown",this.onMouselock),t.addEventListener("touchstart",this.onMouselock),t}addClips(){const e=document.createDocumentFragment(),{items:t}=this.videoData;t.forEach(t=>{const n=document.createElement("li");n.innerHTML=new r(t).getClipMarkup(),e.appendChild(n)}),document.querySelector(".slider").appendChild(e)}}(new class{constructor(){this.state={key:"AIzaSyDbvn7SGW9s2Pl1Lf3UwAHxKO5lH82yaic",baseUrl:"https://www.googleapis.com/youtube/v3/",nextPageToken:"",url:"",requestFields:"(id,snippet(publishedAt,title,description,thumbnails/medium,channelTitle),statistics/viewCount)"}}start(){let e=0,t=!1,n=null,o=0,a=null,r=null;const l=async()=>{const{baseUrl:e,key:t,url:n,requestFields:o,nextPageToken:a}=this.state,i=new s(`${n}${a?`&pageToken=${a}`:""}`),r=await i.getData();this.state.nextPageToken=r.nextPageToken;const c=r.items.map(e=>e.id.videoId).join(","),l=new s(`${e}videos?fields=items${o}&part=snippet,statistics&key=${t}&id=${c}`);return await l.getData()};function d(){const t=document.querySelector(".before-prev-btn"),n=document.querySelector(".prev-btn"),s=document.querySelector(".current-page-num");e>0&&n.classList.remove("hidden"),e>1&&t.classList.remove("hidden"),e<1&&n.classList.add("hidden"),e<2&&t.classList.add("hidden"),s.textContent=e+1}function u(e){e.preventDefault(),a.classList.add("hidden"),document.removeEventListener("click",u),document.removeEventListener("keydown",u)}const p=async()=>{const e=await l();new c({videoData:e}).addClips(),n.style.setProperty("--total-clips",n.children.length)};let h=null,m=!1;function v(){return window.getComputedStyle(n).getPropertyValue("--clips-count")}function g(e){return e.changedTouches?e.changedTouches[0]:e}function y(e){e.preventDefault(),m&&n.style.setProperty("--shift",`${Math.round(g(e).clientX-h)}px`)}const f=s=>{if(m){const a=v(),i=g(s).clientX-h,r=Math.sign(i);o=n.children.length,n.classList.toggle("smooth-resize",t=!1);const c=Math.floor((o-1)/a);(e>0||r<0)&&(e<c||r>0)&&Math.abs(i)>20&&(e-=r,n.style.setProperty("--page-num",e),d()),n.style.setProperty("--shift","0px"),n.classList.toggle("smooth",!(m=!1)),h=null,(e+3)*a>o&&p()}n.removeEventListener("mousemove",y),n.removeEventListener("touchmove",y),document.removeEventListener("mouseup",f),document.removeEventListener("touchend",f)},w=e=>{h=g(e).clientX,n.classList.toggle("smooth",!(m=!0)),n.addEventListener("mousemove",y),n.addEventListener("touchmove",y),document.addEventListener("mouseup",f),document.addEventListener("touchend",f)};let b=null;window.addEventListener("resize",function(){if(n){n.classList.toggle("smooth-resize",t=!0);const s=v();b&&(e=Math.floor(e*b/s),n.style.setProperty("--page-num",e)),b=s,d()}});let L=null,E=null;const M=()=>{L.classList.add("opacity"),L.classList.add("tooltip-hidden");const{action:s}=E.dataset,a=v();o=n.children.length;const i=Math.floor((o-1)/a);n.classList.toggle("smooth-resize",t=!1),(e<i||+s<0)&&(e+=+s),n.style.setProperty("--page-num",e),d(),(e+3)*a>o&&p(),document.removeEventListener("mouseup",M)};new i({onSearchChange:async t=>{const{value:s}=t.target;if(s){(r=document.querySelector(".loading-icon")).classList.add("load");const{baseUrl:t,key:i}=this.state;this.state.url=`${t}search?fields=nextPageToken,items/id/videoId&part=snippet&key=${i}&type=video&maxResults=15&q=${s}`;try{const t=await l(),s=new c({videoData:t,onMouselock:w});n=s.render(),o=n.children.length,n.style.setProperty("--total-clips",o),e=0,o&&(r.classList.remove("load"),document.querySelector(".buttons-wrapper").classList.remove("hidden"),d())}catch(e){(a=document.querySelector(".error-message")).classList.remove("hidden"),r.classList.remove("load"),document.addEventListener("click",u),document.addEventListener("keydown",u)}}},onButtonMouseDown:t=>{const{target:n}=t;if("BUTTON"===n.tagName){[L]=n.children,E=n;const{action:t}=E.dataset;L.textContent=+t+e+1,L.classList.remove("tooltip-hidden"),L.classList.remove("opacity"),document.addEventListener("mouseup",M)}}}).render()}}).start()}]);